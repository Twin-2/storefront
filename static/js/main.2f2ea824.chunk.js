(this["webpackJsonpvirtual-store"]=this["webpackJsonpvirtual-store"]||[]).push([[0],{117:function(t,e,r){},118:function(t,e,r){"use strict";r.r(e);var c=r(0),n=r(40),a=r.n(n),o=r(19),i=r(138),s=r(140),u=r(136),d=r(77),j=r.n(d),O=r(2);var l=Object(o.b)((function(t){return{shoppingcart:t.shoppingCart}}))((function(t){return Object(O.jsxs)(i.a,{className:"header",elevation:2,children:["Best Store Ever",Object(O.jsx)(s.a,{"aria-label":"cart",children:Object(O.jsx)(u.a,{badgeContent:t.shoppingcart.cart.length,color:"primary",children:Object(O.jsx)(j.a,{})})})]})})),p=r(58);var b=function(){return Object(O.jsxs)(i.a,{className:"footer",elevation:2,children:["\xa9 2021 ","    ",Object(O.jsx)("a",{href:"https://github.com/Twin-2",children:Object(O.jsx)(p.a,{})}),"    ",Object(O.jsx)("a",{href:"https://www.linkedin.com/in/david-whitmore-501273160/",children:Object(O.jsx)(p.b,{})})]})},f=r(30),v=r.n(f),h=r(46),C=r(18),T=r(47),g=r.n(T),_={categories:[],activeCategory:""},E=function(t){return{type:"GET_CATEGORIES",payload:t}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0,r=e.type,c=e.payload;switch(r){case"ACTIVATE_CATEGORY":return Object(C.a)(Object(C.a)({},t),{},{activeCategory:c});case"GET_CATEGORIES":return Object(C.a)(Object(C.a)({},t),{},{categories:c});default:return t}},x=r(135),R=r(142);var m={activate:function(t){return{type:"ACTIVATE_CATEGORY",payload:t}}},A=Object(o.b)((function(t){return{categories:t.categoryReducer}}),m)((function(t){return Object(O.jsxs)("section",{children:[Object(O.jsx)("h1",{children:"Product Categories"}),Object(O.jsx)(x.a,{value:!1,textColor:"primary",indicatorColor:"primary",children:t.categories.categories.map((function(e,r){return Object(O.jsx)(R.a,{label:e.name,onClick:function(){return t.activate(e.name)}},r)}))})]})})),S=r(20),P={cart:[]},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0,r=e.type,c=e.payload;switch(r){case"ADD_TO_CART":return t.cart.includes(c)?t:Object(C.a)(Object(C.a)({},t),{},{cart:[].concat(Object(S.a)(t.cart),[c])});case"REMOVE_FROM_CART":console.log(c);var n=t.cart.filter((function(t){return t!==c}));return Object(C.a)(Object(C.a)({},t),{},{cart:n});default:return t}},w={activeProducts:[]},G=function(t){return{type:"GET_ACTIVATE_PRODUCTS",payload:t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0,r=e.type,c=e.payload;switch(r){case"GET_ACTIVATE_PRODUCTS":return Object(C.a)(Object(C.a)({},t),{},{activeProducts:c});case"ADD_TO_CART":return t.activeProducts.map((function(t){return t===c&&t.inStock--,t})),t;case"REMOVE_FROM_CART":return t.activeProducts.map((function(t){return t===c&&t.Stock++,t})),t;default:return t}},k=r(139),F=r(141);var N={addToCart:function(t){return{type:"ADD_TO_CART",payload:t}},asyncGetProducts:function(t){return function(){var e=Object(h.a)(v.a.mark((function e(r){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/storefront",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PRODUCTS_API,"?category=").concat(t));case 2:c=e.sent,r(G(c.data.results));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},V=Object(o.b)((function(t){return{products:t.productReducer,category:t.categoryReducer,shoppingCart:t.shoppingCart}}),N)((function(t){var e=t.category,r=t.asyncGetProducts;return Object(c.useEffect)((function(){r(e.activeCategory)}),[e.activeCategory,r]),Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:[t.category.activeCategory," "]}),Object(O.jsx)("div",{className:"products",children:t.products.activeProducts.map((function(e,r){return Object(O.jsxs)(k.a,{className:"card",children:[e.name,": ",e.description,Object(O.jsx)("br",{}),"In Stock: ",e.inStock,Object(O.jsx)("br",{}),Object(O.jsx)(F.a,{variant:"contained",color:"success",onClick:function(){return function(e){t.shoppingCart.cart.includes(e)||t.addToCart(e)}(e)},children:"Add to cart"})]},r)}))})]})})),U=r(78),M=r.n(U);var W={removeFromCart:function(t){return{type:"REMOVE_FROM_CART",payload:t}}},H=Object(o.b)((function(t){return{shoppingCart:t.shoppingCart}}),W)((function(t){return Object(O.jsx)("div",{className:"simpleCart",children:t.shoppingCart.cart.map((function(e,r){return Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:e.name}),Object(O.jsx)(M.a,{onClick:function(){return t.removeFromCart(e)}})]},r)}))})}));var K={asyncGetCategories:function(){return function(){var t=Object(h.a)(v.a.mark((function t(e){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/storefront",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CATEGORIES_API);case 2:r=t.sent,e(E(r.data.results));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},B=Object(o.b)((function(t){return{categories:t.categoryReducer}}),K)((function(t){var e=t.asyncGetCategories;return Object(c.useEffect)((function(){e()}),[e]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A,{}),Object(O.jsx)(V,{}),Object(O.jsx)(H,{})]})}));r(117);var L=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(l,{}),Object(O.jsx)(B,{}),Object(O.jsx)(b,{})]})},J=r(37),Y=r(79),X=r(80),q=Object(J.combineReducers)({categoryReducer:y,productReducer:I,shoppingCart:D}),z=function(){return Object(J.createStore)(q,Object(Y.composeWithDevTools)(Object(J.applyMiddleware)(X.a)))};console.log("_REDUX_STORE_",z());var Q=z();a.a.render(Object(O.jsx)(o.a,{store:Q,children:Object(O.jsx)(L,{})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.2f2ea824.chunk.js.map